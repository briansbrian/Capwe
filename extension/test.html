<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Capwe Extension Test Page</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      line-height: 1.6;
    }
    .section {
      margin: 30px 0;
      padding: 20px;
      border: 1px solid #ddd;
      border-radius: 8px;
    }
    h1, h2 {
      color: #333;
    }
    .ad-container {
      background: #f0f0f0;
      padding: 20px;
      text-align: center;
    }
    .sponsored {
      background: #fff3cd;
      padding: 10px;
      margin: 10px 0;
    }
    iframe {
      width: 100%;
      height: 200px;
      border: 1px solid #ccc;
    }
    form {
      background: #f9f9f9;
      padding: 20px;
      border-radius: 4px;
    }
    input, textarea {
      display: block;
      width: 100%;
      margin: 10px 0;
      padding: 8px;
      border: 1px solid #ddd;
      border-radius: 4px;
    }
    button {
      background: #007bff;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    .tracking-pixel {
      width: 1px;
      height: 1px;
    }
    .hidden-element {
      display: none;
    }
  </style>
</head>
<body>
  <h1>Capwe Extension Test Page</h1>
  <p>This page contains various elements to test the Capwe extension features.</p>

  <!-- Test Section 1: Advertisements -->
  <div class="section">
    <h2>1. Advertisement Detection</h2>
    
    <div class="ad-container">
      <div class="advertisement">
        <p>This is a mock advertisement</p>
        <p>Special Offer - 50% Off!</p>
      </div>
    </div>
    
    <div class="sponsored">
      <p>Sponsored Content: Amazing Product You Need!</p>
    </div>
    
    <!-- Simulated ad iframe -->
    <iframe src="about:blank" data-ad-network="doubleclick.net"></iframe>
  </div>

  <!-- Test Section 2: Links -->
  <div class="section">
    <h2>2. Link Analysis</h2>
    
    <p>
      <a href="https://example.com">External Link (HTTPS)</a> - 
      <a href="http://example.com">External Link (HTTP)</a> - 
      <a href="/about">Internal Link</a> - 
      <a href="/files/document.pdf" download>Download Link</a>
    </p>
    
    <p>
      <a href="https://google.com">Misleading Link - Click here for budget travel tips!</a>
    </p>
  </div>

  <!-- Test Section 3: Forms -->
  <div class="section">
    <h2>3. Form Analysis</h2>
    
    <!-- Insecure Login Form (HTTP) -->
    <h3>Login Form (HTTP - Should trigger security warning)</h3>
    <form action="http://example.com/login" method="POST">
      <label for="username">Username:</label>
      <input type="text" id="username" name="username" required>
      
      <label for="password">Password:</label>
      <input type="password" id="password" name="password" required>
      
      <button type="submit">Login</button>
    </form>
    
    <!-- Secure Payment Form (HTTPS) -->
    <h3>Payment Form (HTTPS - Secure)</h3>
    <form action="https://example.com/payment" method="POST">
      <label for="cardnumber">Credit Card Number:</label>
      <input type="text" id="cardnumber" name="cardnumber" required>
      
      <label for="cvv">CVV:</label>
      <input type="text" id="cvv" name="cvv" required>
      
      <button type="submit">Pay Now</button>
    </form>
    
    <!-- Contact Form -->
    <h3>Contact Form</h3>
    <form action="https://example.com/contact" method="POST">
      <label for="name">Name:</label>
      <input type="text" id="name" name="name" required>
      
      <label for="email">Email:</label>
      <input type="email" id="email" name="email" required>
      
      <label for="message">Message:</label>
      <textarea id="message" name="message" rows="4"></textarea>
      
      <button type="submit">Send Message</button>
    </form>
  </div>

  <!-- Test Section 4: Hidden Elements -->
  <div class="section">
    <h2>4. Hidden Elements</h2>
    
    <p>There are hidden tracking elements on this page:</p>
    
    <!-- Tracking pixel (1x1 image) -->
    <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" 
         class="tracking-pixel" 
         width="1" 
         height="1" 
         alt="">
    
    <!-- Hidden form -->
    <form class="hidden-element">
      <input type="hidden" name="tracking_id" value="12345">
      <input type="hidden" name="user_data" value="collected">
    </form>
    
    <!-- Hidden iframe -->
    <iframe src="about:blank" style="display:none;"></iframe>
    
    <p><em>The extension should detect these hidden elements when you hover near them.</em></p>
  </div>

  <!-- Test Section 5: Mixed Content -->
  <div class="section">
    <h2>5. Mixed Content</h2>
    
    <article>
      <h3>Budget Travel Tips for 2024</h3>
      <p>Planning a trip on a budget? Here are some great tips to save money while traveling...</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore.</p>
      
      <!-- Contextually mismatched ad -->
      <div class="sponsored">
        <a href="https://luxury-watches.example.com">Our Sponsor: Luxury Watches - Buy Now!</a>
      </div>
      
      <p>More budget travel content continues here...</p>
    </article>
  </div>

  <div class="section">
    <h2>Testing Instructions</h2>
    <ol>
      <li>Load the Capwe extension in Chrome (chrome://extensions/)</li>
      <li>Open this test page</li>
      <li><strong>Look for persistent text labels:</strong> Small colored text labels next to detected elements</li>
      <li><strong>Hover over or click the labels:</strong> Hover or click to see detailed tooltips</li>
      <li>Check the extension popup to toggle "Show Persistent Indicators" on/off</li>
      <li>Enable AI features if available (Chrome 128+)</li>
      <li>Configure Look Out criteria to test content monitoring</li>
    </ol>
    
    <h3>Expected Results:</h3>
    <ul>
      <li><strong>Persistent Indicators:</strong> Small colored text labels appear next to detected elements</li>
      <li><strong>Ads:</strong> Red "AD" label with red tooltip on hover</li>
      <li><strong>External Links:</strong> Yellow "EXT" label with yellow tooltip on hover</li>
      <li><strong>Internal Links:</strong> Green "LINK" label with green tooltip on hover</li>
      <li><strong>Forms:</strong> Blue "FORM" label with blue tooltip on hover</li>
      <li><strong>Hidden Elements:</strong> Gray "HIDDEN" label with gray tooltip on hover</li>
      <li><strong>AI Analysis:</strong> Additional insights when AI is enabled</li>
      <li><strong>Look Out Matches:</strong> Green pulsing border for matching content</li>
    </ul>
  </div>

  <!-- Test Section 6: Look Out Test Cases -->
  <div class="section">
    <h2>6. Look Out Test Cases</h2>
    
    <h3>Job Postings</h3>
    <article class="job-listing">
      <h4>Senior Software Engineer - Remote</h4>
      <p><strong>Location:</strong> United States (Remote)</p>
      <p><strong>Salary:</strong> $150,000 - $180,000</p>
      <p>We're looking for a senior software engineer with Python experience...</p>
      <p><strong>Keywords:</strong> Python, Remote, Senior</p>
    </article>
    
    <article class="job-listing">
      <h4>Junior Developer - On-site</h4>
      <p><strong>Location:</strong> New York City (On-site)</p>
      <p><strong>Salary:</strong> $60,000 - $75,000</p>
      <p>Entry-level position for a junior developer...</p>
      <p><strong>Keywords:</strong> Junior, On-site</p>
    </article>
    
    <h3>Product Listings</h3>
    <div class="product">
      <h4>Gaming Laptop - AMD Ryzen 9</h4>
      <p><strong>Price:</strong> $1,499</p>
      <p>32GB RAM, RTX 4070, 1TB SSD</p>
      <p><strong>Keywords:</strong> Laptop, AMD Ryzen 9, 32GB RAM</p>
    </div>
    
    <div class="product">
      <h4>Refurbished Desktop</h4>
      <p><strong>Price:</strong> $399 (Refurbished)</p>
      <p>Basic desktop computer for office work</p>
      <p><strong>Keywords:</strong> Desktop, Refurbished</p>
    </div>
    
    <p style="margin-top: 20px;">
      <strong>To test Look Out:</strong>
      <ol style="margin-top: 10px;">
        <li>Click the extension icon</li>
        <li>Click "Configure Look Out Criteria"</li>
        <li>Add criteria (e.g., Job: "senior, software, engineer, remote", exclude "junior")</li>
        <li>Return to this page</li>
        <li>The matching job posting should be highlighted with a green pulsing border</li>
        <li>Ctrl+Click on the highlighted element to see match details</li>
      </ol>
    </p>
  </div>
</body>
</html>
